@page "/bmi"

<h1>BMI</h1>

<p> Enter your height in feet and inches and enter in your weight in pounds, then hit the button to find out your BMI. </p>

<p>Feet </p>

<input @bind="InputFeet " />

<p>Inches </p>

<input @bind="InputInches " />

<br />

<p>Pounds </p>

<input @bind="InputPounds " />

<br />
<br />

<button class="btn btn-primary" style="background-color:coral" @onclick="DoBMI">Calculate</button>
<br />

<br />

<p>BMI: @OutputString </p>

<p>Class: @OutputClass </p>

<h2> Table Guide: </h2>

<style>
    table, th, td {
        border: 1px solid black;
    }
</style>

    <table style="width:100%">
        <tr>
            <th>Class</th>
            <td>Underweight</td>
            <td>Normal</td>
            <td>Overweight</td>
            <td>Obese</td>
            <td>Morbidly Obese</td>
        </tr>
        <tr>
            <th>BMI</th>
            <td style="color:lightsteelblue"> &lt;18.50    </td>
            <td style="color:lawngreen">18.50-24.99    </td>
            <td style="color:goldenrod">25.00-29.99    </td>
            <td style="color:darkorange">30.00-39.99    </td>
            <td style="color:red">&gt;=40.00    </td>
        </tr>
    </table>

    @code

{
        //Inputs and Outputs

        private string InputFeet { get; set; }

        private string InputInches { get; set; }

        private string InputPounds { get; set; }

        private string OutputString { get; set; }

        private string OutputClass { get; set; }

        //BMI Calculator

        private void DoBMI()

        {
            //variables
            double numF = double.Parse(InputFeet); //input feet
            double numI = double.Parse(InputInches); //input inches
            double numP = double.Parse(InputPounds); //input pounds
            double numFI; //combine feet and inches to just inches
            double BMI;
            double BMIR;
            double Conversion = 703; //the conversion factor number


            numFI = (numF * 12) + numI; //Inches = (feet * 12) + inches      e.g. This person in the example is 5'9". (5*12) + 9 = 69
            BMI = numP / (numFI) / (numFI) * Conversion; //BMI = pounds / Feet&Inches / (Feet&Inches) * conversion
            //e.g. This person in the example is 5'6" and 150 lbs. 150/66/(66)*703 = 24.21

            BMIR = Math.Round(BMI, 2); //round answer to two decimal places


            //certain groups based on BMI score

            if (BMIR < 18.50)
            {
                OutputClass = "Underweight";
            }

            else if (BMIR >= 18.50 && BMIR < 25.00)
            {
                OutputClass = "Normal";
            }

            else if (BMIR >= 25.00 && BMIR < 30.00)
            {
                OutputClass = "Overweight";
            }

            else if (BMIR >= 30.00 && BMIR < 40.00)
            {
                OutputClass = "Obese";
            }

            else if (BMIR >= 40.00)
            {
                OutputClass = "Morbidly Obese";
            }


            OutputString = BMIR.ToString();

        }
    }
